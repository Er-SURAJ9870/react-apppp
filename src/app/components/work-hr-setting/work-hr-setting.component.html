<main id="main" class="main">
    <div class="pagetitle container-fluid">
       <h1>Working Time</h1>
       <!-- <nav>
          <ol class="breadcrumb">
             <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
             <li class="breadcrumb-item">Working Time</li>
          </ol>
       </nav> -->
    </div>
    <section class="section profile container-fluid">
        <div class="row">
            <div class="col-xl-12">
                <div class="card">
                    <div class="card-body pt-3 m-1 ">
                        <!-- <h5 class="card-title text-center mb-5">Working Hours</h5> -->

                   

                        <div class="d-flex d-grid gap-2 d-md-flex justify-content-between">
                            <select id="users" class="form-select" [formControl]="userDropDownForm" (change)="onUserSelect($event)">
                                <option *ngFor="let user of users" [value]="user._id"> 
                                    {{user.name}}
                                </option>
                            </select>
                            <div class="">
                                <a (click)="modifyExceptionalWorkHrs()" class="btn btn-secondary btn-sm ">Modify </a>
                            </div>
                        </div>

                     
                        
                        <form class=" g-3 mt-2" [formGroup]="workingHrForm" (ngSubmit)="workingFormSubmit()">
                            <div class="row " >
                                <div class="col-md-4">
                                    <label for="day" class="col-form-label">Day's</label>
                                </div>
                                
                                <div class="col-md-4">
                                    <label for="openTime" class="col-form-label">Open Time</label>
                                </div>
    
                                <div class="col-md-4">
                                    <label for="closeTime" class="col-form-label">Close Time</label>
                                </div>
                            </div>
                            <div class=" mb-3 " *ngFor="let dayFormGroup of workingHoursArray?.controls; let i = index">
                                <div [formGroup]="dayFormGroup" class="row">
                                    <div class="col-md-4 custom-input ">
                                        <input type="text" class="form-control" id="day" formControlName="day" readonly="true">
                                    </div>
                                    <div class="col-md-4 custom-input ">
                                        <div class="input-group">
                                            <select class="form-control" id="openTime" formControlName="openTime">
                                                <option *ngFor="let time of openTimeOptions" [value]="time">{{ time }}</option>
                                            </select>
                                        
                                            <select class="form-control" id="inMediterian" formControlName="inMediterian">
                                                <option value="AM">AM</option>
                                                <option value="PM">PM</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-4 custom-input ">
                                        <div class="input-group">
                                            <select class="form-control" id="closeTime" formControlName="closeTime">
                                                <option *ngFor="let time of closeTimeOptions" [value]="time">{{ time }}</option>
                                            </select>
                                        
                                            <select class="form-control" id="outMediterian" formControlName="outMediterian">
                                                <option value="PM">PM</option>
                                                <option value="AM">AM</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mt-5"> 
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>   
                </div> 
            <div class="card-footer text-muted text-center">
                <i class="bi bi-arrow-left"></i><i class="bi bi-activity"></i><i class="bi bi-arrow-right"></i>
            </div>
            </div>
        </div>
    </section>
 </main>

 <!-- Spiner loader -->
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">  
    <p style="color: rgb(17, 238, 65)">Please Wait. </p>  
</ngx-spinner> 

<!-- <div class="col-md-3 custom-input ps-5 pt-2 pb-2">
    <input type="checkbox" class="form-check-input" id="isOpen" formControlName="isOpen">
</div> -->


                                                   